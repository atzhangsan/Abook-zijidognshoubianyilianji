ldd 查看程序依赖库
=================
ldd<br>
作用：用来查看程式运行所需的共享库,常用来解决程式因缺少某个库文件而不能运行的一些问题。<br>
示例：查看test程序运行所依赖的库:
```
/opt/app/todeav1/test$ldd test
libstdc++.so.6 => /usr/lib64/libstdc++.so.6 (0x00000039a7e00000)
libm.so.6 => /lib64/libm.so.6 (0x0000003996400000)
libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00000039a5600000)
libc.so.6 => /lib64/libc.so.6 (0x0000003995800000)
/lib64/ld-linux-x86-64.so.2 (0x0000003995400000)
```
````
第一列：程序需要依赖什么库
第二列: 系统提供的与程序需要的库所对应的库
第三列：库加载的开始地址
通过上面的信息，我们可以得到以下几个信息：

通过对比第一列和第二列，我们可以分析程序需要依赖的库和系统实际提供的，是否相匹配
通过观察第三列，我们可以知道在当前的库中的符号在对应的进程的地址空间中的开始位置
```
```
链接的过程简单地讲就是把所有输入的目标文件，静态库文件（其实也是目标文件，只是打包放 在一起而已），
还有动态库文件中的一些信息合并到一个可执行的文件中去。我们可以通过gcc --verbose test.c来查看一下默认情况下链接器的参数
gcc --verbose test.c
---------------------------------------------
...
/usr/lib/gcc/i686-pc-linux-gnu/4.8.2/collect2
--hash-style#gnu -m elf_i386 
-dynamic-linker /lib/ld-linux.so.2
/usr/lib/gcc/i686-pc-linux-gnu/4.8.2/../../../crt1.o
/usr/lib/gcc/i686-pc-linux-gnu/4.8.2/../../../crti.o
/usr/lib/gcc/i686-pc-linux-gnu/4.8.2/crtbegin.o
-L/usr/lib/gcc/i686-pc-linux-gnu/4.8.2
-L/usr/lib/gcc/i686-pc-linux-gnu/4.8.2/../../..
test.o 
-lgcc --as-needed -lgcc_s --no-as-needed -lc -lgcc --as-needed -lgcc_s --no-as-needed
/usr/lib/gcc/i686-pc-linux-gnu/4.8.2/crtend.o
/usr/lib/gcc/i686-pc-linux-gnu/4.8.2/../../../crtn.o
命令参数解释：

collect2: 这里其实就是gcc封装的一个ld
-dynamic-linker ld-path: 告诉链接器动态链接器的路径
crt1.o crti.o crtbegin.o crtend.o crtn.o: 都是与运行相关的目标文件
-Lpath: 告诉链接器应该去哪些路径下搜索静态共享库和动态共享库
-lxxx: xxx即是你的程序要链接的动态共享库或者静态共享库
我们可以把这个命令简化一下：

ld -dynamic-linker /lib/ld-linux.so.2 crt1.o crti.o crtbegin.o test.o
-lgcc -lgcc_s -lc crtend.o crtn.o -o test


